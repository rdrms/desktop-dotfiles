2018-08-23 12:11:59	➡️	rydare (~rydare@unaffiliated/unheeding) has joined #ranger
2018-08-23 12:12:55		Topic for #ranger is "Official ranger file manager channel - https://ranger.github.io - Please note that sometimes it may take hours before a question is answered, thank you for your patience | Channel stats: https://einval.eu/pisg/ranger"
2018-08-23 12:12:56		Topic set by vifon (~vifon@bohdan.einval.eu) on Sat, 14 Apr 2018 13:42:39
2018-08-23 12:13:09	__monty__	Let's do a proper tags system instead : p
2018-08-23 12:13:18	➡️	FichteFoll (~fichte@unaffiliated/fichtefoll) has joined #ranger
2018-08-23 12:14:27	ldlework	i like instantly going places
2018-08-23 12:14:33	ldlework	i don't wanna type much to jump around
2018-08-23 12:14:52	ldlework	being able to group bookmarks by leader key would be nice
2018-08-23 12:15:04	ldlework	se sa so si for some ~/src/ located projects
2018-08-23 12:15:06	ldlework	etc
2018-08-23 12:15:52	ldlework	another really cool thing would be something like bookmarks but for commands
2018-08-23 12:16:22	ldlework	so you can hit a key, you get a little window, just like the bookmarks, but each item executes a command
2018-08-23 12:16:26	ldlework	that'd be dope
2018-08-23 12:17:43	__monty__	You can already get that for commands though, kind of.
2018-08-23 12:17:52	ldlework	yeah?
2018-08-23 12:18:08	ldlework	don't tease me
2018-08-23 12:18:33	__monty__	Just decide on a single prefix to do that with and do a bunch of `map pXYZ commandxyz` `map pZZZ commandzzz`...
2018-08-23 12:18:48	__monty__	Then just press p and you get a window with a list of commands : )
2018-08-23 12:19:09	__monty__	If you keep the XYZ to a single character you have exactly what you wanted.
2018-08-23 12:19:24	ldlework	nice
2018-08-23 12:19:25	__monty__	But you have the flexibility to make them arbitrarily long if you want.
2018-08-23 12:19:30	ldlework	wonderful
2018-08-23 12:19:49	ldlework	__monty__: what's the easiest way to add commands to ranger?
2018-08-23 12:19:57	ldlework	shell out to bin scripts?
2018-08-23 12:20:30	__monty__	You can also cheat for bookmarks like that. `map ±down cd ~/Downloads` `map ±docs ~/Documents` etc.
2018-08-23 12:20:48	__monty__	ldlework: commands.py is for exactly that purpose.
2018-08-23 12:21:05	__monty__	But tbh just writing a shell script *is* easier.
2018-08-23 12:21:19	ldlework	i don't understand what you said with the cheating
2018-08-23 12:21:25	ldlework	I see a funny character
2018-08-23 12:21:29	__monty__	Then just add a `map xyz shell my_script.sh %s` or whatever.
2018-08-23 12:21:32	ldlework	underscore +
2018-08-23 12:21:38	ldlework	nice
2018-08-23 12:21:52	ldlework	__monty__: will shell see my zsh functions?
2018-08-23 12:22:06	__monty__	It's +/-, was just looking for an easy to type character that isn't already mapped as a prefix. ' ` etc. are taken : )
2018-08-23 12:22:27	__monty__	No, scripts don't see aliases or functions I think.
2018-08-23 12:22:43	__monty__	That's a good reason to replace your aliases/functions with scripts though : )
2018-08-23 12:23:14	__monty__	Just make sure they're on your PATH and you don't even have to change your habits of using your functions : )
2018-08-23 12:23:25	⬅️	ralpheeee (~ralpheeee@cable-78-34-49-87.netcologne.de) has quit (Quit: WeeChat 2.2)
2018-08-23 12:28:52	➡️	zeus1 (~zeus@197.239.36.59) has joined #ranger
2018-08-23 12:29:58	ldlework	__monty__: do you ever use the filter stack stuff much
2018-08-23 12:30:25	__monty__	It's only just been merged, so not yet no.
2018-08-23 12:30:35	__monty__	: p
2018-08-23 12:31:30	ldlework	Hmm, when I run a command it takes over ranger
2018-08-23 12:31:34	ldlework	That's not very useful
2018-08-23 12:31:36	ldlework	lol
2018-08-23 12:34:23		irc: disconnected from server
2018-08-23 12:34:50	➡️	rydare (~rydare@unaffiliated/unheeding) has joined #ranger
2018-08-23 12:36:27	ldlework	we need like a popup shell
2018-08-23 12:36:45	ldlework	like the lower half of the screen is taken up by a console
2018-08-23 12:36:52	__monty__	Rifle has flag f and flag t for this.
2018-08-23 12:38:40	__monty__	Running ranger inside ranger in a popup should definitely be a goal though : )
2018-08-23 12:40:20	ldlework	just the log of the process you run
2018-08-23 12:41:13	__monty__	No no, I've made up my mind, we need rangers all the way down.
2018-08-23 12:41:37	ldlework	hehe
2018-08-23 12:41:59	ldlework	__monty__: do you use rofi?
2018-08-23 12:42:14	__monty__	No, don't know what it is.
2018-08-23 12:42:45	ldlework	https://github.com/DaveDavenport/rofi
2018-08-23 12:42:50	ldlework	it is a dmenu replacement
2018-08-23 12:43:42	ldlework	__monty__: is there a way i can run commands on a file?
2018-08-23 12:46:02	__monty__	:shell command %s?
2018-08-23 12:46:40	⬅️	zeus1 (~zeus@197.239.36.59) has quit (Ping timeout: 264 seconds)
2018-08-23 12:47:05	ldlework	__monty__: doh, why does it put it in quotes?
2018-08-23 12:49:03	ldlework	nm
2018-08-23 12:54:02	__monty__	Not sure what you meant. Probably because file names can mess with commands though.
2018-08-23 13:09:52		irc: disconnected from server
2018-08-23 13:10:36	➡️	rydare (~rydare@unaffiliated/unheeding) has joined #ranger
2018-08-23 13:15:20	rydare	I'm having an issue where image previews cause the terminal to have a distorted background
2018-08-23 13:16:13	rydare	first image shows fine, but subsequent images don't show the terminal backround properly
2018-08-23 13:17:09	rydare	is there an alternate program for image previews?
2018-08-23 13:17:45	➡️	ralpheeee (~ralpheeee@cable-78-34-49-87.netcologne.de) has joined #ranger
2018-08-23 13:21:30	⬅️	ralpheeee (~ralpheeee@cable-78-34-49-87.netcologne.de) has quit (Client Quit)
2018-08-23 13:21:51	➡️	ralpheeee (~ralpheeee@cable-78-34-49-87.netcologne.de) has joined #ranger
2018-08-23 13:31:44	FichteFoll	urxvt has native previews
2018-08-23 13:32:06	FichteFoll	and kitty, if the PR was merged
2018-08-23 13:40:06	__monty__	The PR was merged, it's not in a release yet though.
2018-08-23 13:40:20	__monty__	FichteFoll: If you want the logfile stuff to be merged you need to fix it : p
2018-08-23 13:40:32	FichteFoll	yeah no time atm
2018-08-23 13:41:35	ldlework	nice so
2018-08-23 13:41:52	ldlework	i can now hit caps caps to toggle between ranger and zsh without nesting
2018-08-23 13:41:58	ldlework	my god that's awesome
2018-08-23 13:42:15	@vifon	ldlework: How do you do this?
2018-08-23 13:42:28	@vifon	Disclaimer: I completely ignored the backlog.
2018-08-23 13:42:50	ldlework	https://gist.github.com/dustinlacewell/74e30bfc83747ea12383501541cec1f4
2018-08-23 13:42:55	__monty__	tfw you have to make another commit on a PR to satisfy pylint/flake8...
2018-08-23 13:42:57	ldlework	i have caps-lock bound to f12
2018-08-23 13:43:08	ldlework	the f12-ness of my snippet is irrelevant
2018-08-23 13:43:16	@vifon	You sounds like you might love zranger and/or texas from my Github.
2018-08-23 13:43:18	@vifon	*sound
2018-08-23 13:43:40	@vifon	ldlework: https://github.com/Vifon/texas
2018-08-23 13:43:55	@vifon	https://github.com/Vifon/zranger/
2018-08-23 13:44:04	ldlework	this already does that!
2018-08-23 13:44:10	ldlework	well let me make sure
2018-08-23 13:44:20	ldlework	yep!
2018-08-23 13:44:55	ldlework	vifon: don't think you need that anymore :)
2018-08-23 13:45:39	ldlework	that's a long readme so maybe it does something other than toggle between zsh and ranger
2018-08-23 13:46:03	@vifon	zranger uses a single cached ranger instance so is definitely faster.
2018-08-23 13:46:24	ldlework	there's no delay here
2018-08-23 13:46:30	ldlework	but i have modern hardware
2018-08-23 13:46:33	@vifon	And both keep the current working directory synchronized, so you can cd with one of them and have it reflected in the other.
2018-08-23 13:46:42	ldlework	this keeps the directory synced
2018-08-23 13:46:45	@vifon	Yeah, I developed zranger when I was still on HDD.
2018-08-23 13:46:52	ldlework	if i am in zsh
2018-08-23 13:47:00	@vifon	It does?
2018-08-23 13:47:01	ldlework	capscaps makes me go into ranger wherever i am
2018-08-23 13:47:04	ldlework	if i move in ranger
2018-08-23 13:47:08	@vifon	How?
2018-08-23 13:47:12	ldlework	capscaps drops me to zsh in the new location
2018-08-23 13:47:21	@vifon	And if you cd in that zsh?
2018-08-23 13:47:32	ldlework	yes
2018-08-23 13:47:35	ldlework	i just tried it a bunch
2018-08-23 13:47:44	@vifon	And it works?
2018-08-23 13:48:05	@vifon	Fine, let my try then. :D
2018-08-23 13:48:34	ldlework	oh it doesn't
2018-08-23 13:48:56	ldlework	because it is backing out to ranger
2018-08-23 13:48:58	ldlework	not starting a new one
2018-08-23 13:49:08	ldlework	maybe I could pkill ranger, then start a new one
2018-08-23 13:49:10	ldlework	lol
2018-08-23 13:49:26	@vifon	texas uses some rudimentary IPC with signals for this task.
2018-08-23 13:49:30	@vifon	Give it a try. :)
2018-08-23 13:49:30	__monty__	What is different to this from `S`?
2018-08-23 13:49:43	@vifon	__monty__: The ldlework's solution? Symmetry.
2018-08-23 13:49:53	__monty__	-.-
2018-08-23 13:49:53	@vifon	You can quit with the same key you start it with.
2018-08-23 13:50:03	@vifon	There isn't much magic to it.
2018-08-23 13:50:10	@vifon	It's a simple change.
2018-08-23 13:50:12	ldlework	it uses S
2018-08-23 13:50:19	@vifon	(and it's the beauty of it)
2018-08-23 13:50:20	ldlework	shell $SHELL
2018-08-23 13:50:32	__monty__	And where's the sync?
2018-08-23 13:50:36	ldlework	there is none!
2018-08-23 13:50:51	__monty__	So it doesn't do what zranger does?
2018-08-23 13:50:58	ldlework	no, i was mistaken
2018-08-23 13:51:04	ldlework	when you go back to ranger from shell
2018-08-23 13:51:11	ldlework	ranger is wherever it was when you went into shell
2018-08-23 13:51:18	ldlework	:(
2018-08-23 13:51:30	ldlework	i wish there was support in ranger for this
2018-08-23 13:51:38	__monty__	Yeah it's literally just S/C-d but with X/X.
2018-08-23 13:51:46	ldlework	yes
2018-08-23 13:52:31	__monty__	Can you map C-d in ranger?
2018-08-23 13:52:38	__monty__	I think you can, right?
2018-08-23 13:52:45	ldlework	it is too bad ranger wont cd to wherever shell bailed
2018-08-23 13:52:53	__monty__	Then you don't even have to forget the muscle memory for C-d as exit.
2018-08-23 13:53:09	@vifon	Just destroy this muscle memory instead.
2018-08-23 13:53:11	ldlework	__monty__: lol what if you want to really quit
2018-08-23 13:53:14	@vifon	Because it's no longer exit.
2018-08-23 13:53:23	ldlework	q still quits ranger
2018-08-23 13:53:23	__monty__	You could probably ad that to the script. I'd expect ranger's api to allow cd'ing.
2018-08-23 13:53:28	ldlework	C-d still quits zsh
2018-08-23 13:53:33	ldlework	capscaps toggles
2018-08-23 13:53:40	ldlework	vifon: how hard would it be to patch this in
2018-08-23 13:53:47	@vifon	Yeah, I had :shell cd into my last dir in the past.
2018-08-23 13:53:48	ldlework	we could avoid another tool 
2018-08-23 13:53:56	@vifon	It requires some zsh hacking though.
2018-08-23 13:54:14	ldlework	tell me the ways
2018-08-23 13:54:17	__monty__	ldlework: C-d never quit ranger.
2018-08-23 13:54:31	ldlework	__monty__: ?
2018-08-23 13:54:52	__monty__	I'm just saying you don't even need the script if you map C-d to `S`.
2018-08-23 13:55:15	__monty__	It has all the features you achieve with the script afaict.
2018-08-23 13:55:15	ldlework	C-d is for actually quitting zsh
2018-08-23 13:55:39	__monty__	Doesn't capscaps quit zsh every time?
2018-08-23 13:55:39	@vifon	ldlework: https://vifon.einval.eu/upload/2018-08-23-215536_801x169-f31449.png
2018-08-23 13:56:04	ldlework	no
2018-08-23 13:56:12	ldlework	__monty__: there is an if statement
2018-08-23 13:56:18	ldlework	if there are no ranger levels, start ranger
2018-08-23 13:56:23	ldlework	if there is a ranger levle, exit
2018-08-23 13:56:43	ldlework	vifon: a picture of text?!!?!?!?
2018-08-23 13:57:05	ldlework	ffs lol
2018-08-23 13:57:18	@vifon	I hate humanity and this is my way of bringing pain onto this world.
2018-08-23 13:57:19	__monty__	Ok. Very minor UX improvement imo.
2018-08-23 13:57:45	ldlework	__monty__: thanks for your minor acknowledgement 
2018-08-23 13:57:49	ldlework	lol
2018-08-23 13:57:57	__monty__	Your a little welcome.
2018-08-23 13:58:02	ldlework	XD
2018-08-23 13:58:26	__monty__	Does this work across shells? Otherwise I wouldn't want it in ranger. #sorrynotsorry
2018-08-23 13:58:29	@vifon	__monty__: Are you sure it was his? Or just a little sure?
2018-08-23 13:58:37	ldlework	vifon: i don't understand where I put that zsh
2018-08-23 13:58:49	ldlework	just anywhere?
2018-08-23 13:58:51	@vifon	__monty__: It has a strong dependency of adding that snippet/trap to your shell.
2018-08-23 13:58:55	ldlework	not in a function or anything?
2018-08-23 13:59:01	@vifon	Yes, zshrc, anywhere.
2018-08-23 13:59:03	@vifon	Yes.
2018-08-23 13:59:05	ldlework	vifon: well it like an api
2018-08-23 13:59:15	ldlework	an integration point
2018-08-23 13:59:38	ldlework	the shell command shouldn't fail if you don't back it up on the shell side
2018-08-23 14:00:09	@vifon	Well, it does, as this file doesn't exist.
2018-08-23 14:00:15	@vifon	It can be fixed though.
2018-08-23 14:00:37	ldlework	let's
2018-08-23 14:00:40	ldlework	lol
2018-08-23 14:00:44	__monty__	vifon: Im conomising on my  and  us, thos gt usd way mor oftn than all th othr charactrs and Im afraid wr gonna run out and b lft with all th uslss charactrs.
2018-08-23 14:01:26	ldlework	vifon: do you mind gisting 
2018-08-23 14:01:32	@vifon	Jeez, __monty__ has some terrible disease.
2018-08-23 14:01:40	⬅️	vifon has kicked __monty__ (QUARANTINE)
2018-08-23 14:01:50	➡️	__monty__ (~toonn@unaffiliated/toonn) has joined #ranger
2018-08-23 14:01:52	__monty__	How do you do a keybind for the shell script though?
2018-08-23 14:02:33	@vifon	Come again?
2018-08-23 14:03:20	ldlework	__monty__: bindkey
2018-08-23 14:03:52	__monty__	Hmm, interesting.
2018-08-23 14:04:21	ldlework	vifon: can you paste that code tho
2018-08-23 14:04:33	ldlework	NOT TO BE A PESTER
2018-08-23 14:04:38	@vifon	ldlework: Working on it.
2018-08-23 14:04:42	ldlework	oh <3
2018-08-23 14:05:48		irc: disconnected from server
2018-08-23 14:05:57	➡️	rydare (~rydare@unaffiliated/unheeding) has joined #ranger
2018-08-23 14:10:25	__monty__	So, vifon, how come you never came up with this?
2018-08-23 14:10:50	@vifon	With what?
2018-08-23 14:11:35	__monty__	This symmetric solution.
2018-08-23 14:11:47	@vifon	zranger
2018-08-23 14:11:58	@vifon	It too as symmetrical bindings.
2018-08-23 14:13:12	@vifon	ldlework: https://gist.github.com/Vifon/fd1c4e477271e1917b25d507290c6a6f
2018-08-23 14:13:59	__monty__	 Yeah but this is much simpler. And less zsh specific afaiu.
2018-08-23 14:14:59	@vifon	I don't consider the symmetric a major thing, just an UX optimization of a bigger thing. It's nice if one wants it in their config (and easy to add) but unnecessary upstream IMHO.
2018-08-23 14:17:14		irc: disconnected from server
2018-08-23 14:28:22	➡️	rydare (~rydare@unaffiliated/unheeding) has joined #ranger
2018-08-23 14:28:22	***	Buffer Playback...
2018-08-23 14:28:22	ldlework	[14:18:11] holy crap that's a lot of python
2018-08-23 14:28:22	ldlework	[14:18:13] lol
2018-08-23 14:28:22	ldlework	[14:18:43] by symmetric do you mean the same binding on both sides?
2018-08-23 14:28:22	ldlework	[14:18:50] that seems arbitrary
2018-08-23 14:28:22	ldlework	[14:18:54] the important bit is the syncing
2018-08-23 14:28:22	ldlework	[14:18:59] i think that could be upstreamed...
2018-08-23 14:28:22	@vifon	[14:19:03] ldlework: There are only a few lines added.
2018-08-23 14:28:22	ldlework	[14:19:06] so i don't have to maintain this python
2018-08-23 14:28:22	ldlework	[14:19:10] lol
2018-08-23 14:28:22	ldlework	[14:19:53] especially if it would otherwise just be a few lines to ranger
2018-08-23 14:28:22	@vifon	[14:19:59] Well, this temporary file with the shell cwd could be abused by a malicious 3rd party.
2018-08-23 14:28:22	@vifon	[14:20:05] I don't think that's a good idea.
2018-08-23 14:28:22	ldlework	[14:20:11] ...
2018-08-23 14:28:22	@vifon	[14:20:27] Security first.
2018-08-23 14:28:22	ldlework	[14:20:34] how would it be abused?
2018-08-23 14:28:22	@vifon	[14:21:02] I could redirect you to a similar directory with some malicious files in place of the ones you wanted to run.
2018-08-23 14:28:22	@vifon	[14:21:14] Just by having a non-root access to the same system.
2018-08-23 14:28:22	@vifon	[14:21:36] If I would overwrite this file in just the right moment, it could be done.
2018-08-23 14:28:22	ldlework	[14:21:53] well how about a comprimise
2018-08-23 14:28:22	ldlework	[14:22:19] such that the python in ranger is refactored such that extending it with whatever few lines you added is feasible
2018-08-23 14:28:22	ldlework	[14:22:25] rather than forking the whole command, you know?
2018-08-23 14:28:22	ldlework	[14:22:29] subclass it or something?
2018-08-23 14:28:22	__monty__	[14:22:43] But there is *no* syncing?
2018-08-23 14:28:22	__monty__	[14:22:56] This is exactly what ranger level was introduced for.
2018-08-23 14:28:22	__monty__	[14:23:07] Now I see what it is. This is nothing new.
2018-08-23 14:28:22	ldlework	[14:23:23] what?
2018-08-23 14:28:22	ldlework	[14:23:37] the whole point behind the temp file is to sync
2018-08-23 14:28:22	ldlework	[14:23:40] afaiu
2018-08-23 14:28:22	__monty__	[14:23:57] Yeah, with vifon's solution. Not with yours.
2018-08-23 14:28:22	ldlework	[14:24:05] oh yeah, there's no syncing we went over that
2018-08-23 14:28:22	ldlework	[14:24:12] vifon: couldn't the shell be done in a way that the shell returns the path to return to
2018-08-23 14:28:22	ldlework	[14:24:15] to ranger
2018-08-23 14:28:22	ldlework	[14:24:19] since ranger is calling it
2018-08-23 14:28:22	ldlework	[14:24:25] rather than using a file
2018-08-23 14:28:22	__monty__	[14:25:19] You said the more important feature was the syncing but your solution doesn't sync, that's what confused me.
2018-08-23 14:28:22	ldlework	[14:25:39] i was replying to the talk about symmetry
2018-08-23 14:28:22	__monty__	[14:26:06] vifon: Can't ranger's ipc be used for this? Surely the ipc allows cd'ing?
2018-08-23 14:28:22	@vifon	[14:26:18] The IPC is highly experimental.
2018-08-23 14:28:22	ldlework	[14:26:22] yeah like before exiting
2018-08-23 14:28:22	ldlework	[14:26:26] the shell can do something 
2018-08-23 14:28:22	__monty__	[14:26:36] All you'd need to do is python -c import rangeripc; cd $pwd or something.
2018-08-23 14:28:22	ldlework	[14:26:48] gotta get ranger on dbus lol
2018-08-23 14:28:22	@vifon	[14:26:59] :D
2018-08-23 14:28:22	__monty__	[14:27:06] No dbus on mac os/windows/bsd(?)
2018-08-23 14:28:22	@vifon	[14:27:08] In texas I used signals and reading /proc.
2018-08-23 14:28:22	ldlework	[14:27:33] vifon: i just put the python you gave me into ~/.config/ranger/commands.py ?
2018-08-23 14:28:22	***	Playback Complete.
2018-08-23 14:28:51	@vifon	Yep.
2018-08-23 14:33:20	ldlework	hrm didn't work
2018-08-23 14:38:46	ldlework	vifon: !
2018-08-23 14:38:48	ldlework	wtf
2018-08-23 14:38:50	ldlework	lol
2018-08-23 14:39:47	@vifon	Wait, why is it formatted this way...
2018-08-23 14:40:20	@vifon	Ah, OK.
2018-08-23 14:40:47	@vifon	Ah... my bad.
2018-08-23 14:40:56	ldlework	that's what I was thinkin
2018-08-23 14:41:44	➡️	zeus1 (~zeus@154.227.78.89) has joined #ranger
2018-08-23 14:41:59	@vifon	ldlework: Done.
2018-08-23 14:42:01	@vifon	Fixed.
2018-08-23 14:42:57	__monty__	Oh, vifon, I didn't merge the draw borders stuff because hut said he'd merge after the next release.
2018-08-23 14:43:13	@vifon	ldlework: If you want to extend it without copying code, you can decorate shell.execute() and add these few lines in your decorator.
2018-08-23 14:43:29	@vifon	Are you sure he didn't mean this one?
2018-08-23 14:44:00	@vifon	If so, let it be.
2018-08-23 14:48:01		irc: disconnected from server
2018-08-23 14:49:56	➡️	rydare (~rydare@unaffiliated/unheeding) has joined #ranger
2018-08-23 14:53:36	⬅️	squigzy (~squigz@i3/op/squigzy) has quit (Remote host closed the connection)
2018-08-23 14:54:19	➡️	squigzy (~squigz@i3/op/squigzy) has joined #ranger
2018-08-23 14:56:05	__monty__	vifon: Oh, no. 1.9.1 was already out at that point.
2018-08-23 14:56:35	__monty__	But I think hut said that thinking 1.9.2'd be released days later, not months.
2018-08-23 14:56:52	⬅️	zeus1 (~zeus@154.227.78.89) has quit (Ping timeout: 264 seconds)
2018-08-23 14:57:10	__monty__	The whole "let's not add too much to the release in case something goes wrong" doesn't really apply imo cause there's so much in the release already : )
2018-08-23 14:57:18	@vifon	I'd say, merge it.
2018-08-23 14:57:21	➡️	zeus1 (~zeus@154.227.78.89) has joined #ranger
2018-08-23 14:57:22	@vifon	Yeaah.
2018-08-23 14:57:39	ldlework	vifon: it works!
2018-08-23 14:57:48	@vifon	Hell yeah, baby.
2018-08-23 14:58:23	__monty__	I'll review it again before I do but yeah.
2018-08-23 14:58:32	@vifon	Sure thing.
2018-08-23 14:58:54	@vifon	Oh, you asked when I'll have time to look at the PRs again. Hopefully on weekend.
2018-08-23 14:59:51	ldlework	vifon: couldn't i just subclass shell class and have just the execute method you've provided?
2018-08-23 15:00:02	ldlework	also the code you added is at the end
2018-08-23 15:00:10	ldlework	so technically couldn't i use super() to call the original
2018-08-23 15:00:18	ldlework	and then just run that if statement again with your added code?
2018-08-23 15:00:26	ldlework	makes sense when i say it
2018-08-23 15:00:26	@vifon	You'd need to overwrite shell though.
2018-08-23 15:00:44	@vifon	Let me show you what I mean…
2018-08-23 15:00:47	ldlework	vifon: could i just come up with some other name and have my capscaps map use it
2018-08-23 15:00:56	@vifon	Actually yes.
2018-08-23 15:01:06	@vifon	So super(); my_code()
2018-08-23 15:01:14	@vifon	OK, that should be even better.
2018-08-23 15:01:18	@vifon	Go for it.
2018-08-23 15:01:23	✴️	ldlework nods
2018-08-23 15:02:58	ldlework	another thing i might try
2018-08-23 15:03:03	ldlework	is sending a signal using your mechanism
2018-08-23 15:03:07	ldlework	to tell ranger to close
2018-08-23 15:03:22	ldlework	so i can close the terminal and have it really close, instead of falling back to ranger, since ranger started it
2018-08-23 15:03:26	@vifon	But ranger is your parent process.
2018-08-23 15:03:29	@vifon	Closing it won't help.
2018-08-23 15:03:43	@vifon	Unless you do want to close it and not sync it.
2018-08-23 15:04:25	ldlework	vifon: i mean, usually i want to return to ranger and have it sync up
2018-08-23 15:04:31	ldlework	but other times i just want everything to exit
2018-08-23 15:04:51	@vifon	Well then, yes, kill $PPID.
2018-08-23 15:05:04	ldlework	well couldn't i write some value to the temp file
2018-08-23 15:05:10	ldlework	and in the python code recognize the value
2018-08-23 15:05:14	ldlework	and quit ranger
2018-08-23 15:05:44	ldlework	ie instead of a "returning control back to you ranger, make sure to cd to this dir", its "ranger, we're aborting, shut it down!"
2018-08-23 15:05:59	ldlework	basically this file is our ipc :)
2018-08-23 15:07:16	@vifon	Basically SIGTERM.
2018-08-23 15:07:20	@vifon	No need to handle it specifically.
2018-08-23 15:08:22	ldlework	vifon: you don't wanna kill other ranger sessions
2018-08-23 15:08:24	ldlework	in other terminals
2018-08-23 15:08:36	@vifon	Why would it?
2018-08-23 15:08:44	@vifon	They have a different PID.
2018-08-23 15:08:53	ldlework	how does the shell know the pid of the ranger that created it?
2018-08-23 15:08:58	@vifon	PPID
2018-08-23 15:09:00	@vifon	Parent PID
2018-08-23 15:09:03	ldlework	huh
2018-08-23 15:09:10	@vifon	Try: echo $PPID
2018-08-23 15:09:15	ldlework	is that a standard
2018-08-23 15:09:34	@vifon	The env var? I'm not sure. But you can always obtain it one way or another.
2018-08-23 15:09:39	__monty__	Maybe you'd want ranger to do the kill PPID though.
2018-08-23 15:09:50	__monty__	So it also closes the shell that started it.
2018-08-23 15:10:46	ldlework	maybe the shell should do the thing where it replaces its process with the new one
2018-08-23 15:10:59	ldlework	exec i guess
2018-08-23 15:11:14	ldlework	like, if you only ever go forward
2018-08-23 15:11:20	ldlework	going back is just like going forward
2018-08-23 15:11:23	ldlework	as long as the cd is the same
2018-08-23 15:11:33	ldlework	because it is a toggle between two things
2018-08-23 15:11:47	ldlework	so shell, exec's ranger, and ranger exec's the shell
2018-08-23 15:11:54	ldlework	wouldn't that always keep them in sync by default?
2018-08-23 15:12:02	ldlework	instead of returning to a previous ranger
2018-08-23 15:12:06	ldlework	you just exec into a new one?
2018-08-23 15:12:43	ldlework	can ranger even exec
2018-08-23 15:12:47	__monty__	I guess. Probably slower though cause it starts a new instance every time.
2018-08-23 15:12:55	⬅️	zeus1 (~zeus@154.227.78.89) has quit (Ping timeout: 240 seconds)
2018-08-23 15:12:59	__monty__	Every process can exec afaik.
2018-08-23 15:13:03	ldlework	yeah but ranger like starts instantly for me
2018-08-23 15:13:13	ldlework	__monty__: i mean can i get it to do that from an existing command
2018-08-23 15:13:19	ldlework	if not i guess just write a new command
2018-08-23 15:13:22	ldlework	seems simple enough
2018-08-23 15:13:28	ldlework	but what about the idea in general
2018-08-23 15:18:23	__monty__	Hmm, just tried eval import os; os.execlp('less', 'file') and it didn't work. ranger disappeared.
2018-08-23 15:18:41	__monty__	So I'm not sure you can already do it. It's definitely possible though.
2018-08-23 15:19:39	ldlework	__monty__: ranger dissapeared and less didn't appear?
2018-08-23 15:19:50	__monty__	Yeah.
2018-08-23 15:19:58	__monty__	It does seem to work with my shell though.
2018-08-23 15:20:27	ldlework	what does
2018-08-23 15:20:32	ldlework	going from ranger -> shell ?
2018-08-23 15:20:43	ldlework	also how do you eval python from ranger?
2018-08-23 15:20:44	__monty__	Oh, it does work with less.
2018-08-23 15:20:50	ldlework	just in the console?/
2018-08-23 15:20:56	__monty__	Need to pass the process' name as the first argument.
2018-08-23 15:21:15	__monty__	So `eval import os; execlp('zsh', 'zsh')` in your case.
2018-08-23 15:21:24	✴️	ldlework tries
2018-08-23 15:21:24	__monty__	Yeah :eval
2018-08-23 15:21:54	⬅️	squigzy (~squigz@i3/op/squigzy) has quit (Remote host closed the connection)
2018-08-23 15:22:18	__monty__	Oh, one thing that doesn't keep ranger's state. So any settings you alter while running are lost.
2018-08-23 15:23:03	ldlework	settings?
2018-08-23 15:23:09	➡️	squigzy (~squigz@i3/op/squigzy) has joined #ranger
2018-08-23 15:23:18	__monty__	It does automatically achieve syncing though. The shell'll start in the directory you're in in ranger and ranger'll start in the pwd of the shell. Pretty sweet.
2018-08-23 15:23:23	ldlework	yeah
2018-08-23 15:23:34	ldlework	__monty__: for me when I do the shell
2018-08-23 15:23:38	ldlework	the term is all messed up
2018-08-23 15:23:40	ldlework	like when you do la -la
2018-08-23 15:23:53	ldlework	it wraps around like a candy cane like the newlines are not working
2018-08-23 15:23:56	ldlework	I have to type "reset"
2018-08-23 15:23:59	ldlework	then it works
2018-08-23 15:24:00	__monty__	Yeah like you could do :set image_preview False or :map a echo lololo, those'd be lost.
2018-08-23 15:24:27	ldlework	oh i'd probably never do that
2018-08-23 15:25:12	__monty__	It works for me. But I use fish, inside tmux.
2018-08-23 15:26:15	ldlework	i just passed -c 'reset' to zsh
2018-08-23 15:26:17	ldlework	heh
2018-08-23 15:26:52	__monty__	Ranger does stay visible for the most part but it's like quitting from some programs where the output is still visible but scrolls up like regular command output. I'm going to bed, let me know how the experiment turns out.
2018-08-23 15:27:01	__monty__	Yeah, was gonna suggest that.
2018-08-23 15:27:04	__monty__	nn peeps
2018-08-23 15:27:08	⬅️	__monty__ (~toonn@unaffiliated/toonn) has quit (Quit: leaving)
2018-08-23 15:33:12	➡️	dina16 (~d-ina@105.98.97.53) has joined #ranger
2018-08-23 15:33:39	dina16	about my issue in void linux : load process ...
2018-08-23 15:33:53	dina16	i switch to ubuntu and all okayy , 
2018-08-23 15:34:14	dina16	void give me many error , so i leave it
2018-08-23 15:34:42	dina16	i get ranger from master , and picture video preview all work great
2018-08-23 15:53:06	ldlework	vifon: how do I get the current ranger directory from eval
2018-08-23 15:54:15	@vifon	Try self.fm.thisdir.
2018-08-23 15:54:22	@vifon	It's all documented in the commands.py file.
2018-08-23 15:57:12	➡️	zeus1 (~zeus@154.227.78.89) has joined #ranger
2018-08-23 16:10:54	➡️	some_weirdo11 (~some_weir@220.117.175.177) has joined #ranger
2018-08-23 16:11:07	⬅️	some_weirdo11 (~some_weir@220.117.175.177) has quit (Remote host closed the connection)
2018-08-23 16:19:07	ldlework	vifon: hey i have a class in commands.py but it isn't found in the ranger console
2018-08-23 16:19:13	ldlework	class rangershell(shell):
2018-08-23 16:19:31	@vifon	Try multiple inheritance, from Command.
2018-08-23 16:20:13	ldlework	nope
2018-08-23 16:21:15	ldlework	https://gist.github.com/dustinlacewell/aec600acba6307a82d75ebcaf0366fd8
2018-08-23 16:35:54	➡️	Kamiyaa (~Kamiyaa@toroon213mw-lp130-04-67-68-35-12.dsl.bell.ca) has joined #ranger
2018-08-23 16:45:25	⬅️	zeus1 (~zeus@154.227.78.89) has quit (Ping timeout: 240 seconds)
2018-08-23 16:47:07	⬅️	dina16 (~d-ina@105.98.97.53) has quit (Quit: Leaving)
2018-08-23 17:00:11	ldlework	vifon: any idea?
2018-08-23 17:03:28	ldlework	eh i'll just use the full example
2018-08-23 17:06:12	ldlework	oh I got it
2018-08-23 17:06:13	ldlework	nice
